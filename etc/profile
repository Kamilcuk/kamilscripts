#!/bin/sh
# kamilscripts etc/profile

for _i in \
		"${XDG_CONFIG_HOME:-~/.config}"/profile.d/*.sh \
		~/.profile_*
do
	if [ -e "$_i" ]; then
		# shellcheck disable=SC1090
		. "$_i"
	fi
done

if [ ! -r "${KCDIR:-}" ]; then
	# find KCDIR
	_i=~/.kamilscripts
	if [ -r "$_i" ] && [ -r "$_i"/.git ] && [ -r "$_i"/bin ]; then
		KCDIR=$(readlink -f "$_i")
	else
		echo ".kamilscripts/etc/profile: KCDIR not found" >&2
		unset _i
		return
	fi
fi

for _i in "$KCDIR"/etc/profile.d/*.sh; do
	if [ -r "$_i" ]; then
		# shellcheck disable=SC1090
		. "$_i"
	fi
done

unset _i

